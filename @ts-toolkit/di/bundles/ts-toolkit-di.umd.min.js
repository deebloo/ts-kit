!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("@ts-toolkit/di",["exports"],e):e((t["ts-toolkit"]=t["ts-toolkit"]||{},t["ts-toolkit"].di={}))}(this,function(t){"use strict";function n(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),p=[];try{for(;(void 0===e||0<e--)&&!(n=i.next()).done;)p.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i["return"])&&r.call(i)}finally{if(o)throw o.error}}return p}var e=function(){function t(t,e){void 0===t&&(t={providers:[]});var r=this;this.opts=t,this.parent=e,this.providerMap=new WeakMap,this.opts.bootstrap&&this.opts.bootstrap.forEach(function(t){return r.get(t)})}return t.prototype.has=function(t){return this.parent?this.parent.has(t):this.providerMap.has(t)},t.prototype.get=function(t){if(this.providerMap.has(t))return this.providerMap.get(t);var e=this.findOverride(t);return e?this.createSingleton(e.provider):this.parent&&this.parent.has(t)?this.parent.get(t):this.createSingleton(t)},t.prototype.create=function(t){var e=this;return t.deps?new(t.bind.apply(t,function r(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t}([void 0],t.deps.map(function(t){return e.get(t)})))):new t},t.prototype.createSingleton=function(t){var e=this.create(t);return this.providerMap.set(t,e),e},t.prototype.findOverride=function(e){return this.opts.providers&&this.opts.providers.find(function(t){return t.provide===e})||null},t}();t.Injector=e,t.Injectable=function r(e){return void 0===e&&(e={deps:[]}),function(t){t.deps=e.deps}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ts-toolkit-di.umd.min.js.map